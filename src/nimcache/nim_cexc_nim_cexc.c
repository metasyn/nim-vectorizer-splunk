/* Generated by Nim Compiler v0.18.0 */
/*   (c) 2018 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: MacOSX, amd64, clang */
/* Command for C compiler:
   clang -c  -w -O3  -I/Users/aljohnson/.choosenim/toolchains/nim-0.18.0/lib -o /Users/aljohnson/code/nim-splunk-vectorizer/src/nimcache/nim_cexc_nim_cexc.o /Users/aljohnson/code/nim-splunk-vectorizer/src/nimcache/nim_cexc_nim_cexc.c */
#define NIM_NEW_MANGLING_RULES
#define NIM_INTBITS 64

#include "nimbase.h"
#include <setjmp.h>
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef powerpc
#undef unix
typedef struct tyTuple_iKNHWc9bFDylLeBCWabq0sQ tyTuple_iKNHWc9bFDylLeBCWabq0sQ;
typedef struct tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g;
typedef struct tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w;
typedef struct tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ;
typedef struct tyObject_GcStack_7fytPA5bBsob6See21YMRA tyObject_GcStack_7fytPA5bBsob6See21YMRA;
typedef struct tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg;
typedef struct tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ;
typedef struct tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg;
typedef struct tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw;
typedef struct tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA;
typedef struct tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw;
typedef struct tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw;
typedef struct tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg;
typedef struct tyTuple_ujsjpB2O9cjj3uDHsXbnSzg tyTuple_ujsjpB2O9cjj3uDHsXbnSzg;
typedef struct tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg;
typedef struct tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ;
typedef struct tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg;
typedef struct tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ;
typedef struct tyTuple_vS3oP9bLUl9czroflQZpcYjg tyTuple_vS3oP9bLUl9czroflQZpcYjg;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct tySequence_uB9b75OUPRENsBAu4AnoePA tySequence_uB9b75OUPRENsBAu4AnoePA;
typedef struct TSafePoint TSafePoint;
typedef struct tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ;
typedef struct tyObject_RegexDesc_jxMAPyr9aBYX9b0g7iZ2E8zw tyObject_RegexDesc_jxMAPyr9aBYX9b0g7iZ2E8zw;
typedef struct tyObject_ValueError_Gi06FkNeykJn7mrqRZYrkA tyObject_ValueError_Gi06FkNeykJn7mrqRZYrkA;
typedef struct tyObject_OrderedTable_AF39bJ7XDr6gpANuGpxkHrw tyObject_OrderedTable_AF39bJ7XDr6gpANuGpxkHrw;
typedef struct tySequence_MlAD6nAPq9bHKla9cWiIZP0g tySequence_MlAD6nAPq9bHKla9cWiIZP0g;
typedef struct tySequence_oLpBKXzW3hF9aCVMo5EymfQ tySequence_oLpBKXzW3hF9aCVMo5EymfQ;
typedef struct tyObject_BaseChunk_Sdq7WpT6qAH858F5ZEdG3w tyObject_BaseChunk_Sdq7WpT6qAH858F5ZEdG3w;
typedef struct tyObject_FreeCell_u6M5LHprqzkn9axr04yg9bGQ tyObject_FreeCell_u6M5LHprqzkn9axr04yg9bGQ;
typedef struct tyObject_StackTraceEntry_oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry_oLyohQ7O2XOvGnflOss8EA;
typedef struct tyObject_Pcre_bGVj3RgRlNY6kwJpiYI9b3A tyObject_Pcre_bGVj3RgRlNY6kwJpiYI9b3A;
typedef struct tyObject_ExtraData_aRbi7557vgG4KV47nk1CWQ tyObject_ExtraData_aRbi7557vgG4KV47nk1CWQ;
typedef struct tyTuple_awOivLjlO76sGdHY7nQUjQ tyTuple_awOivLjlO76sGdHY7nQUjQ;
struct TGenericSeq {
NI len;
NI reserved;
};
struct NimStringDesc {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct tyTuple_iKNHWc9bFDylLeBCWabq0sQ {
tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* Field0;
NimStringDesc* Field1;
NIM_BOOL Field2;
};
typedef NU8 tyEnum_TNimKind_jIBKr1ejBgsfM33Kxw4j7A;
typedef NU8 tySet_tyEnum_TNimTypeFlag_v8QUszD1sWlSIWZz7mC4bQ;
typedef N_NIMCALL_PTR(void, tyProc_ojoeKfW4VYIm36I9cpDTQIg) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, tyProc_WSm2xU5ARYv9aAR4l0z9c9auQ) (void* p);
struct TNimType {
NI size;
tyEnum_TNimKind_jIBKr1ejBgsfM33Kxw4j7A kind;
tySet_tyEnum_TNimTypeFlag_v8QUszD1sWlSIWZz7mC4bQ flags;
TNimType* base;
TNimNode* node;
void* finalizer;
tyProc_ojoeKfW4VYIm36I9cpDTQIg marker;
tyProc_WSm2xU5ARYv9aAR4l0z9c9auQ deepcopy;
};
typedef NU8 tyEnum_TNimNodeKind_unfNsxrcATrufDZmpBq4HQ;
struct TNimNode {
tyEnum_TNimNodeKind_unfNsxrcATrufDZmpBq4HQ kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(void, tyProc_T4eqaYlFJYZUv9aG9b1TV0bQ) (void);
struct tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g {
NI refcount;
TNimType* typ;
};
struct tyObject_GcStack_7fytPA5bBsob6See21YMRA {
void* bottom;
};
struct tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w {
NI len;
NI cap;
tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g** d;
};
typedef tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ* tyArray_SiRwrEKZdLgxqz9a9aoVBglg[512];
typedef NU32 tyArray_BHbOSqU1t9b3Gt7K2c6fQig[24];
typedef tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg* tyArray_N1u1nqOgmuJN9cSZrnMHgOQ[32];
typedef tyArray_N1u1nqOgmuJN9cSZrnMHgOQ tyArray_B6durA4ZCi1xjJvRtyYxMg[24];
typedef tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw* tyArray_lh2A89ahMmYg9bCmpVaplLbA[256];
struct tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA {
tyArray_lh2A89ahMmYg9bCmpVaplLbA data;
};
typedef tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* tyArray_0aOLqZchNi8nWtMTi8ND8w[2];
struct tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw {
tyArray_0aOLqZchNi8nWtMTi8ND8w link;
NI key;
NI upperBound;
NI level;
};
struct tyTuple_ujsjpB2O9cjj3uDHsXbnSzg {
tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg* Field0;
NI Field1;
};
typedef tyTuple_ujsjpB2O9cjj3uDHsXbnSzg tyArray_LzOv2eCDGiceMKQstCLmhw[30];
struct tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg {
NI len;
tyArray_LzOv2eCDGiceMKQstCLmhw chunks;
tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg* next;
};
struct tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg {
NI minLargeObj;
NI maxLargeObj;
tyArray_SiRwrEKZdLgxqz9a9aoVBglg freeSmallChunks;
NU32 flBitmap;
tyArray_BHbOSqU1t9b3Gt7K2c6fQig slBitmap;
tyArray_B6durA4ZCi1xjJvRtyYxMg matrix;
tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw* llmem;
NI currMem;
NI maxMem;
NI freeMem;
NI occ;
NI lastSize;
tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA chunkStarts;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* root;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* deleted;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* last;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* freeAvlNodes;
NIM_BOOL locked;
NIM_BOOL blockChunkSizeIncrease;
NI nextChunkSize;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw bottomData;
tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg heapLinks;
};
struct tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg {
NI stackScans;
NI cycleCollections;
NI maxThreshold;
NI maxStackSize;
NI maxStackCells;
NI cycleTableSize;
NI64 maxPause;
};
struct tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ {
NI counter;
NI max;
tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg* head;
tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg** data;
};
struct tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ {
tyObject_GcStack_7fytPA5bBsob6See21YMRA stack;
NI cycleThreshold;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w zct;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w decStack;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w tempStack;
NI recGcLock;
tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg region;
tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg stat;
tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ marked;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w additionalRoots;
NI gcThreadId;
};
typedef N_NIMCALL_PTR(void, tyProc_OHUIXY4duS8RXyMUgkfNxg) (tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* metadata, NimStringDesc* body, tyTuple_vS3oP9bLUl9czroflQZpcYjg* Result);
struct RootObj {
TNimType* m_type;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
tySequence_uB9b75OUPRENsBAu4AnoePA* trace;
Exception* up;
};
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClP_0) (Exception* e, void* ClE_0);
void* ClE_0;
} tyProc_KeeAOYBd84Ofsw6Y7LizaQ;
struct TSafePoint {
TSafePoint* prev;
NI status;
jmp_buf context;
NIM_BOOL hasRaiseAction;
tyProc_KeeAOYBd84Ofsw6Y7LizaQ raiseAction;
};
typedef NU8 tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg;
typedef NimStringDesc* tyArray_nHXaesL0DJZHyVS07ARPRA[1];
struct tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ {
NI Field0;
NI Field1;
};
typedef NU8 tySet_tyEnum_RegexFlag_gA189bEOtGhLt2cCHGW4ywg;
typedef NimStringDesc* tyArray_Qdg3zgcNlmwGTTeVxyC9bbw[20];
struct tyObject_ValueError_Gi06FkNeykJn7mrqRZYrkA {
  Exception Sup;
};
struct tyTuple_vS3oP9bLUl9czroflQZpcYjg {
tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* Field0;
NimStringDesc* Field1;
};
typedef NU8 tyEnum_JsonNodeKind_RUngo7nCHe6O8aBGIcrhtg;
struct tyObject_OrderedTable_AF39bJ7XDr6gpANuGpxkHrw {
tySequence_MlAD6nAPq9bHKla9cWiIZP0g* data;
NI counter;
NI first;
NI last;
};
struct tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q {
tyEnum_JsonNodeKind_RUngo7nCHe6O8aBGIcrhtg kind;
union{
struct {NimStringDesc* str;
} S1;
struct {NI64 num;
} S2;
struct {NF fnum;
} S3;
struct {NIM_BOOL bval;
} S4;
struct {tyObject_OrderedTable_AF39bJ7XDr6gpANuGpxkHrw fields;
} S6;
struct {tySequence_oLpBKXzW3hF9aCVMo5EymfQ* elems;
} S7;
} kindU;
};
struct tyObject_BaseChunk_Sdq7WpT6qAH858F5ZEdG3w {
NI prevSize;
NI size;
};
struct tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ {
  tyObject_BaseChunk_Sdq7WpT6qAH858F5ZEdG3w Sup;
tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ* next;
tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ* prev;
tyObject_FreeCell_u6M5LHprqzkn9axr04yg9bGQ* freeList;
NI free;
NI acc;
NF data;
};
struct tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg {
  tyObject_BaseChunk_Sdq7WpT6qAH858F5ZEdG3w Sup;
tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg* next;
tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg* prev;
NF data;
};
struct tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw {
NI size;
NI acc;
tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw* next;
};
typedef NI tyArray_9a8QARi5WsUggNU9bom7kzTQ[8];
struct tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw {
tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw* next;
NI key;
tyArray_9a8QARi5WsUggNU9bom7kzTQ bits;
};
struct tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg {
tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg* next;
NI key;
tyArray_9a8QARi5WsUggNU9bom7kzTQ bits;
};
typedef N_NIMCALL_PTR(void, tyProc_cnkJEp9bna8U6yi9aVW9cAJ0Q) (tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* s);
typedef N_NIMCALL_PTR(NIM_BOOL, tyProc_KjFcmLOhf4VQvVcyLJWXZw) (tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* s);
typedef N_NIMCALL_PTR(void, tyProc_jlOYFw9cHausuCbPoWx2iiA) (tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* s, NI pos);
typedef N_NIMCALL_PTR(NI, tyProc_Xzm85qBLb9cf9cu8VOfAr8PQ) (tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* s);
typedef N_NIMCALL_PTR(NI, tyProc_tjaJtoUzLe1BMUbItlcGhQ) (tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* s, void* buffer, NI bufLen);
typedef N_NIMCALL_PTR(void, tyProc_b9bsIuILxTLVZHPvJBW187A) (tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* s, void* buffer, NI bufLen);
struct tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ {
  RootObj Sup;
tyProc_cnkJEp9bna8U6yi9aVW9cAJ0Q closeImpl;
tyProc_KjFcmLOhf4VQvVcyLJWXZw atEndImpl;
tyProc_jlOYFw9cHausuCbPoWx2iiA setPositionImpl;
tyProc_Xzm85qBLb9cf9cu8VOfAr8PQ getPositionImpl;
tyProc_tjaJtoUzLe1BMUbItlcGhQ readDataImpl;
tyProc_tjaJtoUzLe1BMUbItlcGhQ peekDataImpl;
tyProc_b9bsIuILxTLVZHPvJBW187A writeDataImpl;
tyProc_cnkJEp9bna8U6yi9aVW9cAJ0Q flushImpl;
};
struct tyObject_StackTraceEntry_oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};
struct tyObject_RegexDesc_jxMAPyr9aBYX9b0g7iZ2E8zw {
tyObject_Pcre_bGVj3RgRlNY6kwJpiYI9b3A* h;
tyObject_ExtraData_aRbi7557vgG4KV47nk1CWQ* e;
};
struct tyTuple_awOivLjlO76sGdHY7nQUjQ {
NI Field0;
NI Field1;
NimStringDesc* Field2;
tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* Field3;
};
struct tyObject_FreeCell_u6M5LHprqzkn9axr04yg9bGQ {
tyObject_FreeCell_u6M5LHprqzkn9axr04yg9bGQ* next;
NI zeroField;
};
struct tyObject_Pcre_bGVj3RgRlNY6kwJpiYI9b3A {
char dummy;
};
struct tyObject_ExtraData_aRbi7557vgG4KV47nk1CWQ {
long flags;
void* study_data;
long match_limit;
void* callout_data;
void* tables;
long match_limit_recursion;
void* mark;
void* executable_jit;
};
struct tySequence_uB9b75OUPRENsBAu4AnoePA {
  TGenericSeq Sup;
  tyObject_StackTraceEntry_oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];
};
struct tySequence_MlAD6nAPq9bHKla9cWiIZP0g {
  TGenericSeq Sup;
  tyTuple_awOivLjlO76sGdHY7nQUjQ data[SEQ_DECL_SIZE];
};
struct tySequence_oLpBKXzW3hF9aCVMo5EymfQ {
  TGenericSeq Sup;
  tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
static N_NIMCALL(void, TM_jbOndQBmvdKkiU9cXMfEYQw_3)(void);
N_NIMCALL(void, nimRegisterGlobalMarker)(tyProc_T4eqaYlFJYZUv9aG9b1TV0bQ markerProc);
N_LIB_PRIVATE N_NIMCALL(tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q*, percent__8iXO9aRAijCPe58pujCBbuQ)(NimStringDesc* s);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
static N_INLINE(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*, usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem)(void* usr);
static N_INLINE(void, rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c);
N_LIB_PRIVATE N_NOINLINE(void, addZCT_fCDI7oO1NNVXXURtxSzsRw)(tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w* s, tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(void, pushSafePoint)(TSafePoint* s);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, handleChunk_7E6FeQfyuYMBwPujY9cTLtg)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* i, tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* o, tyProc_OHUIXY4duS8RXyMUgkfNxg handler);
N_LIB_PRIVATE N_NIMCALL(void, logLoop_Y1QvvdpC0FmKBCafruMWGQ)(tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg level, NimStringDesc** args, NI argsLen_0);
N_LIB_PRIVATE N_NIMCALL(void, readChunk_M9cbOEnFYaSaGe2B9b5R65Ug)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* i, tyTuple_iKNHWc9bFDylLeBCWabq0sQ* Result);
N_NIMCALL(void, genericReset)(void* dest, TNimType* mt);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_NIMCALL(NimStringDesc*, rawNewString)(NI cap);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, readLine_y89bfL07uXzOjT5XgI50WmQ)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* s, NimStringDesc** line);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_LIB_PRIVATE N_NIMCALL(tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ, parseHeader_JNXzf789agjh9bGeJW9cKdPrA)(NimStringDesc* h);
N_LIB_PRIVATE N_NIMCALL(tyObject_RegexDesc_jxMAPyr9aBYX9b0g7iZ2E8zw*, re_2TnOqvPvxix6tRYnuIeq9bw)(NimStringDesc* s, tySet_tyEnum_RegexFlag_gA189bEOtGhLt2cCHGW4ywg flags);
static N_INLINE(NIM_BOOL, match_emOFZQnjweIKzqVZYIeg7Anim_cexc)(NimStringDesc* s, tyObject_RegexDesc_jxMAPyr9aBYX9b0g7iZ2E8zw* pattern, NimStringDesc** matches, NI matchesLen_0, NI start);
static N_INLINE(NI, matchLen_Dok1EtENwM9ayJsqxZJOlTQnim_cexc)(NCSTRING buf, tyObject_RegexDesc_jxMAPyr9aBYX9b0g7iZ2E8zw* pattern, NimStringDesc** matches, NI matchesLen_0, NI start, NI bufSize);
N_LIB_PRIVATE N_NIMCALL(int, matchOrFind_ZplXC9aaMp1xKMHlJu8mEEg)(NCSTRING buf, tyObject_RegexDesc_jxMAPyr9aBYX9b0g7iZ2E8zw* pattern, NimStringDesc** matches, NI matchesLen_0, int start, int bufSize, int flags);
N_LIB_PRIVATE N_NIMCALL(NI, nsuParseInt)(NimStringDesc* s);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
static N_INLINE(void, copyMem_E1xtACub5WcDa3vbrIXbwgsystem)(void* dest, void* source, NI size);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
static N_INLINE(void, asgnRef)(void** dest, void* src);
static N_INLINE(void, incRef_9cAA5YuQAAC3MVbnGeV86swsystem)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c);
static N_INLINE(void, decRef_MV4BBk6J1qu70IbBxwEn4wsystem)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c);
N_NIMCALL(void, raiseException)(Exception* e, NCSTRING ename);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, readStr_wgbx1EbYdFgqchF83HMWvQ)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* s, NI length);
N_LIB_PRIVATE N_NIMCALL(tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q*, parseJson_q2jt59czHU4BW88Mb7EJDUA)(NimStringDesc* buffer);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, dollar__f9cKpuwjrLNwYtym1kuFzjQ)(tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* node);
N_LIB_PRIVATE N_NIMCALL(void, writeChunk_8ez6nF6q4CeZj9b0ePvpIig)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* o, tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* jsonMetadata, NimStringDesc* body);
N_LIB_PRIVATE N_NIMCALL(void, add_IbYQ9cTcoQ89aIwM2IEYGMng)(NimStringDesc** result, NI64 x);
N_LIB_PRIVATE N_NIMCALL(void, writeLine_G1TKFmud9akiH9bzSHWMshag)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* s, NimStringDesc** args, NI argsLen_0);
N_LIB_PRIVATE N_NIMCALL(void, flush_4ed7IXme7lqtClFI7s2sTQ_2)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* s);
static N_INLINE(void, popSafePoint)(void);
static N_INLINE(Exception*, getCurrentException)(void);
static N_INLINE(NimStringDesc*, getCurrentExceptionMsg_fOe1OXzHoGbgrd7IEmbp5Qnim_cexc)(void);
N_NIMCALL(NimStringDesc*, reprAny)(void* p, TNimType* typ);
static N_INLINE(void, popCurrentException)(void);
N_NIMCALL(void, reraiseException)(void);
tyTuple_iKNHWc9bFDylLeBCWabq0sQ emptyChunk_k86RqMfighmKYOciVgnXHg;
TNimType NTI_iKNHWc9bFDylLeBCWabq0sQ_;
extern TNimType NTI_zfzzuQ8txrdZAYK0WGWpHg_;
extern TNimType NTI_77mFvmsOLKik79ci2hXkHEg_;
extern TNimType NTI_VaVACK0bpYmqIQ0mKcHfQQ_;
extern tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ gch_IcYaEuuWivYAS86vFMTS3Q;
extern TSafePoint* excHandler_rqLlY5bs9atDw2OXYqJEn5g;
extern tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg level_hzbRBHMSEnpbC61ptpdKmA;
extern TNimType NTI_yCEN9anxCD6mzBxGjuaRBdg_;
extern TNimType NTI_Gi06FkNeykJn7mrqRZYrkA_;
extern Exception* currException_9bVPeDJlYTi9bQApZpfH8wjg;
extern TNimType NTI_oUKtBcKRdK6usj8RWrlp6A_;
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_4, "", 0);
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_7, "Reading chunk...", 16);
NIM_CONST tyArray_nHXaesL0DJZHyVS07ARPRA TM_jbOndQBmvdKkiU9cXMfEYQw_6 = {((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_7)}
;
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_8, "chunked\\s+1.0,(\?P<metadataLength>\\d+),(\?P<bodyLength>\\d+)", 57);
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_9, "Unable to parse header: ", 24);
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_10, "metadata: ", 10);
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_12, "Writing chunk...", 16);
NIM_CONST tyArray_nHXaesL0DJZHyVS07ARPRA TM_jbOndQBmvdKkiU9cXMfEYQw_11 = {((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_12)}
;
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_13, "chunked 1.0,", 12);
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_14, ",", 1);
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_15, "\012", 1);
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_16, "Uncaught exception: ", 20);
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_17, ": ", 2);
STRING_LITERAL(TM_jbOndQBmvdKkiU9cXMfEYQw_18, "Input stream is nil. Cannot run.", 32);
static N_NIMCALL(void, TM_jbOndQBmvdKkiU9cXMfEYQw_3)(void) {
	nimGCvisit((void*)emptyChunk_k86RqMfighmKYOciVgnXHg.Field0, 0);
	nimGCvisit((void*)emptyChunk_k86RqMfighmKYOciVgnXHg.Field1, 0);
}

static N_INLINE(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*, usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem)(void* usr) {
	tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* result;
	result = (tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*)0;
	result = ((tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*) ((NI)((NU64)(((NI) (ptrdiff_t) (usr))) - (NU64)(((NI)sizeof(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g))))));
	return result;
}

static N_INLINE(void, rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c) {
	addZCT_fCDI7oO1NNVXXURtxSzsRw((&gch_IcYaEuuWivYAS86vFMTS3Q.zct), c);
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	{
		tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c;
		if (!!((src == NIM_NIL))) goto LA3_;
		c = usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem(src);
		(*c).refcount += ((NI) 8);
	}
	LA3_: ;
	{
		tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c_2;
		if (!!(((*dest) == NIM_NIL))) goto LA7_;
		c_2 = usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem((*dest));
		{
			(*c_2).refcount -= ((NI) 8);
			if (!((NU64)((*c_2).refcount) < (NU64)(((NI) 8)))) goto LA11_;
			rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system(c_2);
		}
		LA11_: ;
	}
	LA7_: ;
	(*dest) = src;
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c;
	c = usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem(p);
	{
		(*c).refcount -= ((NI) 8);
		if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA3_;
		rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system(c);
	}
	LA3_: ;
}

static N_INLINE(void, pushSafePoint)(TSafePoint* s) {
	(*s).hasRaiseAction = NIM_FALSE;
	(*s).prev = excHandler_rqLlY5bs9atDw2OXYqJEn5g;
	excHandler_rqLlY5bs9atDw2OXYqJEn5g = s;
}

static N_INLINE(NI, matchLen_Dok1EtENwM9ayJsqxZJOlTQnim_cexc)(NCSTRING buf, tyObject_RegexDesc_jxMAPyr9aBYX9b0g7iZ2E8zw* pattern, NimStringDesc** matches, NI matchesLen_0, NI start, NI bufSize) {
	NI result;
	int T1_;
{	result = (NI)0;
	T1_ = (int)0;
	T1_ = matchOrFind_ZplXC9aaMp1xKMHlJu8mEEg(buf, pattern, matches, matchesLen_0, ((int) (start)), ((int) (bufSize)), ((int) 16));
	result = ((NI) (T1_));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}

static N_INLINE(NIM_BOOL, match_emOFZQnjweIKzqVZYIeg7Anim_cexc)(NimStringDesc* s, tyObject_RegexDesc_jxMAPyr9aBYX9b0g7iZ2E8zw* pattern, NimStringDesc** matches, NI matchesLen_0, NI start) {
	NIM_BOOL result;
	NI T1_;
	result = (NIM_BOOL)0;
	T1_ = (NI)0;
	T1_ = matchLen_Dok1EtENwM9ayJsqxZJOlTQnim_cexc(s->data, pattern, matches, matchesLen_0, start, (s ? s->Sup.len : 0));
	result = !((T1_ == ((NI) -1)));
	return result;
}

static N_INLINE(void, copyMem_E1xtACub5WcDa3vbrIXbwgsystem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	copyMem_E1xtACub5WcDa3vbrIXbwgsystem(((void*) ((&(*dest).data[((*dest).Sup.len)- 0]))), ((void*) ((*src).data)), ((NI) ((NI)((*src).Sup.len + ((NI) 1)))));
	(*dest).Sup.len += (*src).Sup.len;
}

static N_INLINE(void, incRef_9cAA5YuQAAC3MVbnGeV86swsystem)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c) {
	(*c).refcount = (NI)((NU64)((*c).refcount) + (NU64)(((NI) 8)));
}

static N_INLINE(void, decRef_MV4BBk6J1qu70IbBxwEn4wsystem)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c) {
	{
		(*c).refcount -= ((NI) 8);
		if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA3_;
		rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system(c);
	}
	LA3_: ;
}

static N_INLINE(void, asgnRef)(void** dest, void* src) {
	{
		tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* T5_;
		if (!!((src == NIM_NIL))) goto LA3_;
		T5_ = (tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*)0;
		T5_ = usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem(src);
		incRef_9cAA5YuQAAC3MVbnGeV86swsystem(T5_);
	}
	LA3_: ;
	{
		tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* T10_;
		if (!!(((*dest) == NIM_NIL))) goto LA8_;
		T10_ = (tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*)0;
		T10_ = usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem((*dest));
		decRef_MV4BBk6J1qu70IbBxwEn4wsystem(T10_);
	}
	LA8_: ;
	(*dest) = src;
}

N_LIB_PRIVATE N_NIMCALL(tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ, parseHeader_JNXzf789agjh9bGeJW9cKdPrA)(NimStringDesc* h) {
	tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ result;
	tyObject_RegexDesc_jxMAPyr9aBYX9b0g7iZ2E8zw* headerRegex;
	NI metadataLength;
	NI bodyLength;
{	memset((void*)(&result), 0, sizeof(result));
	headerRegex = re_2TnOqvPvxix6tRYnuIeq9bw(((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_8), 16);
	metadataLength = (NI)0;
	bodyLength = (NI)0;
	{
		tyArray_Qdg3zgcNlmwGTTeVxyC9bbw matches;
		NIM_BOOL T3_;
		memset((void*)matches, 0, sizeof(matches));
		T3_ = (NIM_BOOL)0;
		T3_ = match_emOFZQnjweIKzqVZYIeg7Anim_cexc(h, headerRegex, matches, 20, ((NI) 0));
		if (!T3_) goto LA4_;
		metadataLength = nsuParseInt(matches[(((NI) 0))- 0]);
		bodyLength = nsuParseInt(matches[(((NI) 1))- 0]);
	}
	goto LA1_;
	LA4_: ;
	{
		tyObject_ValueError_Gi06FkNeykJn7mrqRZYrkA* e;
		NimStringDesc* fmtRes;
		NimStringDesc* T7_;
		e = (tyObject_ValueError_Gi06FkNeykJn7mrqRZYrkA*)0;
		e = (tyObject_ValueError_Gi06FkNeykJn7mrqRZYrkA*) newObj((&NTI_yCEN9anxCD6mzBxGjuaRBdg_), sizeof(tyObject_ValueError_Gi06FkNeykJn7mrqRZYrkA));
		(*e).Sup.Sup.m_type = (&NTI_Gi06FkNeykJn7mrqRZYrkA_);
		fmtRes = rawNewString(((NI) 37));
		fmtRes = resizeString(fmtRes, 24);
appendString(fmtRes, ((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_9));
		fmtRes = resizeString(fmtRes, h->Sup.len + 0);
appendString(fmtRes, h);
		T7_ = (NimStringDesc*)0;
		T7_ = (*e).Sup.message; (*e).Sup.message = copyStringRC1(fmtRes);
		if (T7_) nimGCunrefNoCycle(T7_);
		asgnRef((void**) (&(*e).Sup.parent), NIM_NIL);
		raiseException((Exception*)e, "ValueError");
	}
	LA1_: ;
	result.Field0 = metadataLength;
	result.Field1 = bodyLength;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}

N_LIB_PRIVATE N_NIMCALL(void, readChunk_M9cbOEnFYaSaGe2B9b5R65Ug)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* i, tyTuple_iKNHWc9bFDylLeBCWabq0sQ* Result) {
	NimStringDesc* header;
	NIM_BOOL ok;
	tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ T5_;
	NI metadataLength;
	NI bodyLength;
	NimStringDesc* metadata;
	NimStringDesc* body;
	tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* jsonMetadata;
{	genericReset((void*)Result, (&NTI_iKNHWc9bFDylLeBCWabq0sQ_));
	header = rawNewString(((NI) 256));
	ok = readLine_y89bfL07uXzOjT5XgI50WmQ(i, (&header));
	{
		if (!!(ok)) goto LA3_;
		unsureAsgnRef((void**) (&(*Result).Field0), emptyChunk_k86RqMfighmKYOciVgnXHg.Field0);
		unsureAsgnRef((void**) (&(*Result).Field1), copyString(emptyChunk_k86RqMfighmKYOciVgnXHg.Field1));
		(*Result).Field2 = emptyChunk_k86RqMfighmKYOciVgnXHg.Field2;
		goto BeforeRet_;
	}
	LA3_: ;
	T5_ = parseHeader_JNXzf789agjh9bGeJW9cKdPrA(header);
	metadataLength = T5_.Field0;
	bodyLength = T5_.Field1;
	metadata = readStr_wgbx1EbYdFgqchF83HMWvQ(i, metadataLength);
	body = readStr_wgbx1EbYdFgqchF83HMWvQ(i, bodyLength);
	jsonMetadata = parseJson_q2jt59czHU4BW88Mb7EJDUA(metadata);
	unsureAsgnRef((void**) (&(*Result).Field0), jsonMetadata);
	unsureAsgnRef((void**) (&(*Result).Field1), copyString(body));
	(*Result).Field2 = NIM_FALSE;
	goto BeforeRet_;
	}BeforeRet_: ;
}

N_LIB_PRIVATE N_NIMCALL(void, writeChunk_8ez6nF6q4CeZj9b0ePvpIig)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* o, tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* jsonMetadata, NimStringDesc* body) {
	NimStringDesc* metadata;
	NI metadataLength;
	NI bodyLength;
	NimStringDesc* header;
	NimStringDesc* fmtRes;
	tyArray_nHXaesL0DJZHyVS07ARPRA T1_;
	tyArray_nHXaesL0DJZHyVS07ARPRA T2_;
	tyArray_nHXaesL0DJZHyVS07ARPRA T3_;
	metadata = dollar__f9cKpuwjrLNwYtym1kuFzjQ(jsonMetadata);
	metadataLength = (NI)((metadata ? metadata->Sup.len : 0) + ((NI) 1));
	bodyLength = (body ? body->Sup.len : 0);
	fmtRes = rawNewString(((NI) 62));
	fmtRes = resizeString(fmtRes, 12);
appendString(fmtRes, ((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_13));
	add_IbYQ9cTcoQ89aIwM2IEYGMng((&fmtRes), ((NI64) (metadataLength)));
	fmtRes = resizeString(fmtRes, 1);
appendString(fmtRes, ((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_14));
	add_IbYQ9cTcoQ89aIwM2IEYGMng((&fmtRes), ((NI64) (bodyLength)));
	fmtRes = resizeString(fmtRes, 1);
appendString(fmtRes, ((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_15));
	header = fmtRes;
	memset((void*)T1_, 0, sizeof(T1_));
	T1_[0] = copyString(header);
	writeLine_G1TKFmud9akiH9bzSHWMshag(o, T1_, 1);
	memset((void*)T2_, 0, sizeof(T2_));
	T2_[0] = copyString(metadata);
	writeLine_G1TKFmud9akiH9bzSHWMshag(o, T2_, 1);
	memset((void*)T3_, 0, sizeof(T3_));
	T3_[0] = copyString(body);
	writeLine_G1TKFmud9akiH9bzSHWMshag(o, T3_, 1);
	flush_4ed7IXme7lqtClFI7s2sTQ_2(o);
}

N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, handleChunk_7E6FeQfyuYMBwPujY9cTLtg)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* i, tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* o, tyProc_OHUIXY4duS8RXyMUgkfNxg handler) {
	NIM_BOOL result;
	tyTuple_iKNHWc9bFDylLeBCWabq0sQ T5_;
	tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* metadata;
	NimStringDesc* body;
	NIM_BOOL eof;
	tyTuple_vS3oP9bLUl9czroflQZpcYjg T16_;
	tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q* returnMetadata;
	NimStringDesc* returnBody;
{	result = (NIM_BOOL)0;
	{
		if (!(level_hzbRBHMSEnpbC61ptpdKmA <= ((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 1))) goto LA3_;
		logLoop_Y1QvvdpC0FmKBCafruMWGQ(((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 1), TM_jbOndQBmvdKkiU9cXMfEYQw_6, 1);
	}
	LA3_: ;
	memset((void*)(&T5_), 0, sizeof(T5_));
	readChunk_M9cbOEnFYaSaGe2B9b5R65Ug(i, (&T5_));
	metadata = (tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q*)0;
	metadata = T5_.Field0;
	body = (NimStringDesc*)0;
	body = T5_.Field1;
	eof = (NIM_BOOL)0;
	eof = T5_.Field2;
	{
		tyArray_nHXaesL0DJZHyVS07ARPRA T10_;
		NimStringDesc* fmtRes;
		NimStringDesc* T11_;
		if (!(level_hzbRBHMSEnpbC61ptpdKmA <= ((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 1))) goto LA8_;
		memset((void*)T10_, 0, sizeof(T10_));
		fmtRes = rawNewString(((NI) 30));
		fmtRes = resizeString(fmtRes, 10);
appendString(fmtRes, ((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_10));
		T11_ = (NimStringDesc*)0;
		T11_ = dollar__f9cKpuwjrLNwYtym1kuFzjQ(metadata);
		fmtRes = resizeString(fmtRes, T11_->Sup.len + 0);
appendString(fmtRes, T11_);
		T10_[0] = copyString(fmtRes);
		logLoop_Y1QvvdpC0FmKBCafruMWGQ(((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 1), T10_, 1);
	}
	LA8_: ;
	{
		if (!eof) goto LA14_;
		result = NIM_FALSE;
		goto BeforeRet_;
	}
	LA14_: ;
	memset((void*)(&T16_), 0, sizeof(T16_));
	handler(metadata, body, (&T16_));
	returnMetadata = (tyObject_JsonNodeObj_df9bshXB7C9cTiWPIOtX3j1Q*)0;
	returnMetadata = T16_.Field0;
	returnBody = (NimStringDesc*)0;
	returnBody = T16_.Field1;
	{
		if (!(level_hzbRBHMSEnpbC61ptpdKmA <= ((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 1))) goto LA19_;
		logLoop_Y1QvvdpC0FmKBCafruMWGQ(((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 1), TM_jbOndQBmvdKkiU9cXMfEYQw_11, 1);
	}
	LA19_: ;
	writeChunk_8ez6nF6q4CeZj9b0ePvpIig(o, returnMetadata, returnBody);
	{
		tyArray_nHXaesL0DJZHyVS07ARPRA T25_;
		NimStringDesc* fmtRes_2;
		NimStringDesc* T26_;
		if (!(level_hzbRBHMSEnpbC61ptpdKmA <= ((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 1))) goto LA23_;
		memset((void*)T25_, 0, sizeof(T25_));
		fmtRes_2 = rawNewString(((NI) 30));
		fmtRes_2 = resizeString(fmtRes_2, 10);
appendString(fmtRes_2, ((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_10));
		T26_ = (NimStringDesc*)0;
		T26_ = dollar__f9cKpuwjrLNwYtym1kuFzjQ(metadata);
		fmtRes_2 = resizeString(fmtRes_2, T26_->Sup.len + 0);
appendString(fmtRes_2, T26_);
		T25_[0] = copyString(fmtRes_2);
		logLoop_Y1QvvdpC0FmKBCafruMWGQ(((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 1), T25_, 1);
	}
	LA23_: ;
	result = NIM_TRUE;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}

static N_INLINE(void, popSafePoint)(void) {
	excHandler_rqLlY5bs9atDw2OXYqJEn5g = (*excHandler_rqLlY5bs9atDw2OXYqJEn5g).prev;
}

static N_INLINE(Exception*, getCurrentException)(void) {
	Exception* result;
	result = (Exception*)0;
	result = currException_9bVPeDJlYTi9bQApZpfH8wjg;
	return result;
}

static N_INLINE(NimStringDesc*, getCurrentExceptionMsg_fOe1OXzHoGbgrd7IEmbp5Qnim_cexc)(void) {
	NimStringDesc* result;
	Exception* e;
{	result = (NimStringDesc*)0;
	e = getCurrentException();
	{
		if (!(e == NIM_NIL)) goto LA3_;
		result = copyString(((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_4));
	}
	goto LA1_;
	LA3_: ;
	{
		result = copyString((*e).message);
	}
	LA1_: ;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}

static N_INLINE(void, popCurrentException)(void) {
	asgnRef((void**) (&currException_9bVPeDJlYTi9bQApZpfH8wjg), (*currException_9bVPeDJlYTi9bQApZpfH8wjg).up);
}

N_LIB_PRIVATE N_NIMCALL(void, run_Z27Z9c6slTKuf7HRxQk2c4g)(tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* i, tyObject_StreamObj_RShkcoDOPnoCVhtpN1hDPQ* o, tyProc_OHUIXY4duS8RXyMUgkfNxg handler) {
	{
		NIM_BOOL T3_;
		TSafePoint TM_jbOndQBmvdKkiU9cXMfEYQw_5;
		T3_ = (NIM_BOOL)0;
		T3_ = !((i == 0));
		if (!(T3_)) goto LA4_;
		T3_ = !((o == 0));
		LA4_: ;
		if (!T3_) goto LA5_;
		pushSafePoint(&TM_jbOndQBmvdKkiU9cXMfEYQw_5);
		TM_jbOndQBmvdKkiU9cXMfEYQw_5.status = _setjmp(TM_jbOndQBmvdKkiU9cXMfEYQw_5.context);
		if (TM_jbOndQBmvdKkiU9cXMfEYQw_5.status == 0) {
			{
				while (1) {
					NIM_BOOL T10_;
					T10_ = (NIM_BOOL)0;
					T10_ = handleChunk_7E6FeQfyuYMBwPujY9cTLtg(i, o, handler);
					if (!T10_) goto LA9;
					{
						goto LA11;
					} LA11: ;
				} LA9: ;
			}
			popSafePoint();
		}
		else {
			popSafePoint();
			{
				Exception* e;
				NimStringDesc* msg;
				TM_jbOndQBmvdKkiU9cXMfEYQw_5.status = 0;
				e = getCurrentException();
				msg = getCurrentExceptionMsg_fOe1OXzHoGbgrd7IEmbp5Qnim_cexc();
				{
					tyArray_nHXaesL0DJZHyVS07ARPRA T18_;
					NimStringDesc* fmtRes;
					if (!(level_hzbRBHMSEnpbC61ptpdKmA <= ((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 5))) goto LA16_;
					memset((void*)T18_, 0, sizeof(T18_));
					fmtRes = rawNewString(((NI) 56));
					fmtRes = resizeString(fmtRes, 20);
appendString(fmtRes, ((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_16));
					fmtRes = resizeString(fmtRes, reprAny(e, (&NTI_oUKtBcKRdK6usj8RWrlp6A_))->Sup.len + 0);
appendString(fmtRes, reprAny(e, (&NTI_oUKtBcKRdK6usj8RWrlp6A_)));
					fmtRes = resizeString(fmtRes, 2);
appendString(fmtRes, ((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_17));
					fmtRes = resizeString(fmtRes, msg->Sup.len + 0);
appendString(fmtRes, msg);
					T18_[0] = copyString(fmtRes);
					logLoop_Y1QvvdpC0FmKBCafruMWGQ(((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 5), T18_, 1);
				}
				LA16_: ;
				popCurrentException();
			}
		}
		if (TM_jbOndQBmvdKkiU9cXMfEYQw_5.status != 0) reraiseException();
	}
	goto LA1_;
	LA5_: ;
	{
		{
			tyArray_nHXaesL0DJZHyVS07ARPRA T24_;
			NimStringDesc* fmtRes_2;
			if (!(level_hzbRBHMSEnpbC61ptpdKmA <= ((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 5))) goto LA22_;
			memset((void*)T24_, 0, sizeof(T24_));
			fmtRes_2 = rawNewString(((NI) 32));
			fmtRes_2 = resizeString(fmtRes_2, 32);
appendString(fmtRes_2, ((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_18));
			T24_[0] = copyString(fmtRes_2);
			logLoop_Y1QvvdpC0FmKBCafruMWGQ(((tyEnum_Level_pW4mH4lipH6u2NKDGEWdGg) 5), T24_, 1);
		}
		LA22_: ;
	}
	LA1_: ;
}
NIM_EXTERNC N_NOINLINE(void, nim_cexc_nim_cexcInit000)(void) {
	NimStringDesc* T1_;
nimRegisterGlobalMarker(TM_jbOndQBmvdKkiU9cXMfEYQw_3);
	asgnRefNoCycle((void**) (&emptyChunk_k86RqMfighmKYOciVgnXHg.Field0), percent__8iXO9aRAijCPe58pujCBbuQ(((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_4)));
	T1_ = (NimStringDesc*)0;
	T1_ = emptyChunk_k86RqMfighmKYOciVgnXHg.Field1; emptyChunk_k86RqMfighmKYOciVgnXHg.Field1 = copyStringRC1(((NimStringDesc*) &TM_jbOndQBmvdKkiU9cXMfEYQw_4));
	if (T1_) nimGCunrefNoCycle(T1_);
	emptyChunk_k86RqMfighmKYOciVgnXHg.Field2 = NIM_TRUE;
}

NIM_EXTERNC N_NOINLINE(void, nim_cexc_nim_cexcDatInit000)(void) {
static TNimNode* TM_jbOndQBmvdKkiU9cXMfEYQw_2[3];
static TNimNode TM_jbOndQBmvdKkiU9cXMfEYQw_0[4];
NTI_iKNHWc9bFDylLeBCWabq0sQ_.size = sizeof(tyTuple_iKNHWc9bFDylLeBCWabq0sQ);
NTI_iKNHWc9bFDylLeBCWabq0sQ_.kind = 18;
NTI_iKNHWc9bFDylLeBCWabq0sQ_.base = 0;
NTI_iKNHWc9bFDylLeBCWabq0sQ_.flags = 2;
TM_jbOndQBmvdKkiU9cXMfEYQw_2[0] = &TM_jbOndQBmvdKkiU9cXMfEYQw_0[1];
TM_jbOndQBmvdKkiU9cXMfEYQw_0[1].kind = 1;
TM_jbOndQBmvdKkiU9cXMfEYQw_0[1].offset = offsetof(tyTuple_iKNHWc9bFDylLeBCWabq0sQ, Field0);
TM_jbOndQBmvdKkiU9cXMfEYQw_0[1].typ = (&NTI_zfzzuQ8txrdZAYK0WGWpHg_);
TM_jbOndQBmvdKkiU9cXMfEYQw_0[1].name = "Field0";
TM_jbOndQBmvdKkiU9cXMfEYQw_2[1] = &TM_jbOndQBmvdKkiU9cXMfEYQw_0[2];
TM_jbOndQBmvdKkiU9cXMfEYQw_0[2].kind = 1;
TM_jbOndQBmvdKkiU9cXMfEYQw_0[2].offset = offsetof(tyTuple_iKNHWc9bFDylLeBCWabq0sQ, Field1);
TM_jbOndQBmvdKkiU9cXMfEYQw_0[2].typ = (&NTI_77mFvmsOLKik79ci2hXkHEg_);
TM_jbOndQBmvdKkiU9cXMfEYQw_0[2].name = "Field1";
TM_jbOndQBmvdKkiU9cXMfEYQw_2[2] = &TM_jbOndQBmvdKkiU9cXMfEYQw_0[3];
TM_jbOndQBmvdKkiU9cXMfEYQw_0[3].kind = 1;
TM_jbOndQBmvdKkiU9cXMfEYQw_0[3].offset = offsetof(tyTuple_iKNHWc9bFDylLeBCWabq0sQ, Field2);
TM_jbOndQBmvdKkiU9cXMfEYQw_0[3].typ = (&NTI_VaVACK0bpYmqIQ0mKcHfQQ_);
TM_jbOndQBmvdKkiU9cXMfEYQw_0[3].name = "Field2";
TM_jbOndQBmvdKkiU9cXMfEYQw_0[0].len = 3; TM_jbOndQBmvdKkiU9cXMfEYQw_0[0].kind = 2; TM_jbOndQBmvdKkiU9cXMfEYQw_0[0].sons = &TM_jbOndQBmvdKkiU9cXMfEYQw_2[0];
NTI_iKNHWc9bFDylLeBCWabq0sQ_.node = &TM_jbOndQBmvdKkiU9cXMfEYQw_0[0];
}

