/* Generated by Nim Compiler v0.18.0 */
/*   (c) 2018 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: MacOSX, amd64, clang */
/* Command for C compiler:
   clang -c  -w -O3  -I/Users/aljohnson/.choosenim/toolchains/nim-0.18.0/lib -o /Users/aljohnson/code/nim-splunk-vectorizer/src/nimcache/arraymancer_p_accessors_macros_read.o /Users/aljohnson/code/nim-splunk-vectorizer/src/nimcache/arraymancer_p_accessors_macros_read.c */
#define NIM_NEW_MANGLING_RULES
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef powerpc
#undef unix
typedef struct tyObject_Tensor_urhjHEwA2NkLvIUFwuBxiQ tyObject_Tensor_urhjHEwA2NkLvIUFwuBxiQ;
typedef struct tyObject_SteppedSlice_r4gi6b3i9cwWvbDTx29bhqpg tyObject_SteppedSlice_r4gi6b3i9cwWvbDTx29bhqpg;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tyObject_DynamicStackArray_sGjc7KeArQw8Nb9cdBLtCaw tyObject_DynamicStackArray_sGjc7KeArQw8Nb9cdBLtCaw;
typedef struct tyObject_CpuStorage_M9ai5QMEb9bZ9cMikEuLTKxTQ tyObject_CpuStorage_M9ai5QMEb9bZ9cMikEuLTKxTQ;
typedef struct tySequence_Zj5xKXgsXnI4n4hPS6nACA tySequence_Zj5xKXgsXnI4n4hPS6nACA;
typedef struct tyObject_DynamicStackArray_MpSf9ciy75umNaDsLCivf0Q tyObject_DynamicStackArray_MpSf9ciy75umNaDsLCivf0Q;
typedef struct TGenericSeq TGenericSeq;
typedef NU8 tyEnum_TNimKind_jIBKr1ejBgsfM33Kxw4j7A;
typedef NU8 tySet_tyEnum_TNimTypeFlag_v8QUszD1sWlSIWZz7mC4bQ;
typedef N_NIMCALL_PTR(void, tyProc_ojoeKfW4VYIm36I9cpDTQIg) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, tyProc_WSm2xU5ARYv9aAR4l0z9c9auQ) (void* p);
struct TNimType {
NI size;
tyEnum_TNimKind_jIBKr1ejBgsfM33Kxw4j7A kind;
tySet_tyEnum_TNimTypeFlag_v8QUszD1sWlSIWZz7mC4bQ flags;
TNimType* base;
TNimNode* node;
void* finalizer;
tyProc_ojoeKfW4VYIm36I9cpDTQIg marker;
tyProc_WSm2xU5ARYv9aAR4l0z9c9auQ deepcopy;
};
typedef NU8 tyEnum_TNimNodeKind_unfNsxrcATrufDZmpBq4HQ;
struct TNimNode {
tyEnum_TNimNodeKind_unfNsxrcATrufDZmpBq4HQ kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NI tyArray_7faYhUidbIkFZQJndG6Ggw[7];
struct tyObject_DynamicStackArray_sGjc7KeArQw8Nb9cdBLtCaw {
tyArray_7faYhUidbIkFZQJndG6Ggw data;
NI len;
};
struct tyObject_CpuStorage_M9ai5QMEb9bZ9cMikEuLTKxTQ {
tySequence_Zj5xKXgsXnI4n4hPS6nACA* Fdata;
};
struct tyObject_Tensor_urhjHEwA2NkLvIUFwuBxiQ {
tyObject_DynamicStackArray_sGjc7KeArQw8Nb9cdBLtCaw shape;
tyObject_DynamicStackArray_sGjc7KeArQw8Nb9cdBLtCaw strides;
NI offset;
tyObject_CpuStorage_M9ai5QMEb9bZ9cMikEuLTKxTQ storage;
};
struct tyObject_SteppedSlice_r4gi6b3i9cwWvbDTx29bhqpg {
NI a;
NI b;
NI step;
NIM_BOOL a_from_end;
NIM_BOOL b_from_end;
};
typedef tyObject_SteppedSlice_r4gi6b3i9cwWvbDTx29bhqpg tyArray_byWaIiMNtiATAOUeJWS9bCg[7];
struct tyObject_DynamicStackArray_MpSf9ciy75umNaDsLCivf0Q {
tyArray_byWaIiMNtiATAOUeJWS9bCg data;
NI len;
};
struct TGenericSeq {
NI len;
NI reserved;
};
struct tySequence_Zj5xKXgsXnI4n4hPS6nACA {
  TGenericSeq Sup;
  NF data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, genericReset)(void* dest, TNimType* mt);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
static N_INLINE(tyObject_DynamicStackArray_MpSf9ciy75umNaDsLCivf0Q, toArrayOfSlices_hotbGHwweotkEPV9byOqpxgp_accessors_macros_read)(tyObject_SteppedSlice_r4gi6b3i9cwWvbDTx29bhqpg* s, NI sLen_0);
static N_INLINE(NI*, X5BX5D__BzaB3OiBv9aAFFPYkpdgGwgp_accessors_macros_read)(tyObject_DynamicStackArray_sGjc7KeArQw8Nb9cdBLtCaw* a, NI idx);
static N_INLINE(void, stareq__tk9bwZBdb9bO9baUcUN2AX89bQdata_structure)(NI* x, NI y);
static N_INLINE(void, X5BX5Deq__pQwD7xewb0Hj1D5dhH5Glwdata_structure)(tyObject_DynamicStackArray_sGjc7KeArQw8Nb9cdBLtCaw* a, NI idx, NI v);
extern TNimType NTI_urhjHEwA2NkLvIUFwuBxiQ_;

static N_INLINE(tyObject_DynamicStackArray_MpSf9ciy75umNaDsLCivf0Q, toArrayOfSlices_hotbGHwweotkEPV9byOqpxgp_accessors_macros_read)(tyObject_SteppedSlice_r4gi6b3i9cwWvbDTx29bhqpg* s, NI sLen_0) {
	tyObject_DynamicStackArray_MpSf9ciy75umNaDsLCivf0Q result;
	memset((void*)(&result), 0, sizeof(result));
	result.len = sLen_0;
	{
		NI i;
		NI colontmp_;
		NI i_2;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = sLen_0;
		i_2 = ((NI) 0);
		{
			while (1) {
				if (!(i_2 < colontmp_)) goto LA3;
				i = i_2;
				result.data[(i)- 0] = s[i];
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	return result;
}

static N_INLINE(NI*, X5BX5D__BzaB3OiBv9aAFFPYkpdgGwgp_accessors_macros_read)(tyObject_DynamicStackArray_sGjc7KeArQw8Nb9cdBLtCaw* a, NI idx) {
	NI* result;
	result = (NI*)0;
	result = (&(*a).data[(idx)- 0]);
	return result;
}

static N_INLINE(void, stareq__tk9bwZBdb9bO9baUcUN2AX89bQdata_structure)(NI* x, NI y) {
	(*x) = (NI)((*x) * y);
}

static N_INLINE(void, X5BX5Deq__pQwD7xewb0Hj1D5dhH5Glwdata_structure)(tyObject_DynamicStackArray_sGjc7KeArQw8Nb9cdBLtCaw* a, NI idx, NI v) {
	(*a).data[(idx)- 0] = v;
}

N_LIB_PRIVATE N_NIMCALL(void, slicer_T9aR1NWbt3fIvTFg84JzL2Q)(tyObject_Tensor_urhjHEwA2NkLvIUFwuBxiQ* t, tyObject_SteppedSlice_r4gi6b3i9cwWvbDTx29bhqpg* slices, NI slicesLen_0, tyObject_Tensor_urhjHEwA2NkLvIUFwuBxiQ* Result) {
	genericReset((void*)Result, (&NTI_urhjHEwA2NkLvIUFwuBxiQ_));
	(*Result).shape = (*t).shape;
	(*Result).strides = (*t).strides;
	(*Result).offset = (*t).offset;
	unsureAsgnRef((void**) (&(*Result).storage.Fdata), (*t).storage.Fdata);
	{
		NI i;
		tyObject_SteppedSlice_r4gi6b3i9cwWvbDTx29bhqpg slice;
		tyObject_DynamicStackArray_MpSf9ciy75umNaDsLCivf0Q colontmp_;
		i = (NI)0;
		memset((void*)(&slice), 0, sizeof(slice));
		memset((void*)(&colontmp_), 0, sizeof(colontmp_));
		colontmp_ = toArrayOfSlices_hotbGHwweotkEPV9byOqpxgp_accessors_macros_read(slices, slicesLen_0);
		{
			NI i_2;
			NI colontmp__2;
			NI i_3;
			i_2 = (NI)0;
			colontmp__2 = (NI)0;
			colontmp__2 = colontmp_.len;
			i_3 = ((NI) 0);
			{
				while (1) {
					NI a;
					NI b;
					NI* T17_;
					NI* T18_;
					if (!(i_3 < colontmp__2)) goto LA4;
					i_2 = i_3;
					i = i_2;
					slice = colontmp_.data[(i_2)- 0];
					{
						NI* T9_;
						if (!slice.a_from_end) goto LA7_;
						T9_ = (NI*)0;
						T9_ = X5BX5D__BzaB3OiBv9aAFFPYkpdgGwgp_accessors_macros_read((&(*Result).shape), i);
						a = (NI)((*T9_) - slice.a);
					}
					goto LA5_;
					LA7_: ;
					{
						a = slice.a;
					}
					LA5_: ;
					{
						NI* T15_;
						if (!slice.b_from_end) goto LA13_;
						T15_ = (NI*)0;
						T15_ = X5BX5D__BzaB3OiBv9aAFFPYkpdgGwgp_accessors_macros_read((&(*Result).shape), i);
						b = (NI)((*T15_) - slice.b);
					}
					goto LA11_;
					LA13_: ;
					{
						b = slice.b;
					}
					LA11_: ;
					T17_ = (NI*)0;
					T17_ = X5BX5D__BzaB3OiBv9aAFFPYkpdgGwgp_accessors_macros_read((&(*Result).strides), i);
					(*Result).offset += (NI)(a * (*T17_));
					T18_ = (NI*)0;
					T18_ = X5BX5D__BzaB3OiBv9aAFFPYkpdgGwgp_accessors_macros_read((&(*Result).strides), i);
					stareq__tk9bwZBdb9bO9baUcUN2AX89bQdata_structure(T18_, slice.step);
					X5BX5Deq__pQwD7xewb0Hj1D5dhH5Glwdata_structure((&(*Result).shape), i, (NI)(((NI)((NI)(b - a) / slice.step) > 0? ((NI)((NI)(b - a) / slice.step)) : -((NI)((NI)(b - a) / slice.step))) + ((NI) 1)));
					i_3 += ((NI) 1);
				} LA4: ;
			}
		}
	}
}
NIM_EXTERNC N_NOINLINE(void, arraymancer_p_accessors_macros_readInit000)(void) {
}

NIM_EXTERNC N_NOINLINE(void, arraymancer_p_accessors_macros_readDatInit000)(void) {
}

